<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Data Centres & Water Stress — Wild Crowns</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', -apple-system, sans-serif;
    background: #0a0a0a;
    color: #e0e0e0;
  }

  .header {
    padding: 32px 40px 20px;
    max-width: 1400px;
    margin: 0 auto;
  }

  .header .kicker {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #e85d3a;
    margin-bottom: 8px;
  }

  .header h1 {
    font-size: 32px;
    font-weight: 700;
    color: #fff;
    line-height: 1.2;
    margin-bottom: 8px;
  }

  .header .subtitle {
    font-size: 15px;
    color: #888;
    line-height: 1.5;
    max-width: 720px;
  }

  .stats-bar {
    display: flex;
    gap: 32px;
    padding: 16px 40px;
    max-width: 1400px;
    margin: 0 auto;
    flex-wrap: wrap;
  }

  .stat {
    display: flex;
    flex-direction: column;
  }

  .stat .number {
    font-size: 28px;
    font-weight: 700;
    color: #fff;
  }

  .stat .number .highlight {
    color: #e85d3a;
  }

  .stat .label {
    font-size: 11px;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 2px;
  }

  .controls {
    display: flex;
    gap: 8px;
    padding: 12px 40px;
    max-width: 1400px;
    margin: 0 auto;
    flex-wrap: wrap;
    align-items: center;
  }

  .controls label {
    font-size: 11px;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-right: 4px;
  }

  .filter-btn {
    padding: 6px 14px;
    border: 1px solid #333;
    background: transparent;
    color: #999;
    font-size: 12px;
    font-family: 'Inter', sans-serif;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .filter-btn:hover {
    border-color: #555;
    color: #fff;
  }

  .filter-btn.active {
    background: #e85d3a;
    border-color: #e85d3a;
    color: #fff;
  }

  #map {
    width: 100%;
    height: calc(100vh - 260px);
    min-height: 500px;
  }

  .legend {
    position: absolute;
    bottom: 30px;
    left: 16px;
    background: rgba(10,10,10,0.92);
    backdrop-filter: blur(8px);
    padding: 16px 20px;
    border-radius: 8px;
    z-index: 1000;
    border: 1px solid #222;
    min-width: 180px;
  }

  .legend h4 {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #888;
    margin-bottom: 10px;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 6px;
    font-size: 12px;
    color: #aaa;
  }

  .legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .legend .size-guide {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid #222;
  }

  .size-dots {
    display: flex;
    align-items: flex-end;
    gap: 6px;
    margin-top: 6px;
  }

  .size-dot-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
  }

  .size-dot-item span {
    font-size: 9px;
    color: #666;
  }

  .leaflet-popup-content-wrapper {
    background: rgba(15,15,15,0.95) !important;
    border: 1px solid #333 !important;
    border-radius: 8px !important;
    box-shadow: 0 8px 32px rgba(0,0,0,0.5) !important;
  }

  .leaflet-popup-content {
    color: #e0e0e0 !important;
    font-family: 'Inter', sans-serif !important;
    font-size: 13px !important;
    line-height: 1.5 !important;
    margin: 12px 16px !important;
    min-width: 240px;
  }

  .leaflet-popup-tip {
    background: rgba(15,15,15,0.95) !important;
    border: 1px solid #333 !important;
  }

  .popup-name {
    font-size: 15px;
    font-weight: 600;
    color: #fff;
    margin-bottom: 4px;
  }

  .popup-owner {
    font-size: 12px;
    color: #888;
    margin-bottom: 10px;
  }

  .popup-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }

  .popup-field {
    display: flex;
    flex-direction: column;
  }

  .popup-field .pf-label {
    font-size: 10px;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .popup-field .pf-value {
    font-size: 13px;
    color: #ddd;
    font-weight: 500;
  }

  .popup-stress-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 600;
  }

  .leaflet-container {
    background: #0a0a0a !important;
  }

  .source-line {
    padding: 12px 40px;
    font-size: 11px;
    color: #444;
    max-width: 1400px;
    margin: 0 auto;
  }

  .source-line a {
    color: #666;
  }

  @media (max-width: 768px) {
    .header { padding: 20px 16px 12px; }
    .header h1 { font-size: 24px; }
    .stats-bar { padding: 12px 16px; gap: 20px; }
    .stat .number { font-size: 22px; }
    .controls { padding: 8px 16px; }
    .legend { bottom: 12px; left: 8px; padding: 12px; }
    #map { height: calc(100vh - 300px); }
  }
</style>
</head>
<body>

<div class="header">
  <div class="kicker">Wild Crowns · AI & Water Series</div>
  <h1><a href="https://wildcrowns.substack.com/p/your-cloud-drained-my-river" target="_blank" style="color:#fff;text-decoration:none;border-bottom:2px solid #e85d3a;padding-bottom:2px;transition:opacity 0.2s;" onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">Your cloud drained my river</a></h1>
  <div class="subtitle">113 major AI data centre projects worldwide, mapped against water stress.
  Two-thirds of capacity is being built in areas of high or extreme water stress. <a href="https://wildcrowns.substack.com/p/your-cloud-drained-my-river" target="_blank" style="color:#e85d3a;text-decoration:none;font-weight:500;">Read the full article →</a></div>
</div>

<div class="stats-bar">
  <div class="stat">
    <div class="number" id="stat-projects">113</div>
    <div class="label">Projects tracked</div>
  </div>
  <div class="stat">
    <div class="number" id="stat-gw">125 GW</div>
    <div class="label">Planned capacity</div>
  </div>
  <div class="stat">
    <div class="number"><span class="highlight" id="stat-pct">66%</span></div>
    <div class="label">In water-stressed areas</div>
  </div>
  <div class="stat">
    <div class="number" id="stat-water">—</div>
    <div class="label">Est. water use (B litres/yr)</div>
  </div>
</div>

<div class="controls">
  <label>Filter:</label>
  <button class="filter-btn active" data-filter="all">All projects</button>
  <button class="filter-btn" data-filter="us-only">US only</button>
  <button class="filter-btn" data-filter="high-stress">High stress (4-5)</button>
  <button class="filter-btn" data-filter="evaporative">Evaporative cooling</button>
  <button class="filter-btn" data-filter="water-free">Water-free/reduced</button>
  <button class="filter-btn" data-filter="gas">Behind-the-meter gas</button>
</div>

<div id="map"></div>

<div class="source-line">
  Source: Wild Crowns AI Data Centre Database v3, February 2026. Water stress scores based on WRI Aqueduct framework (1=Low, 5=Extremely High).
  Circle size = planned capacity (MW). Locations approximate for multi-site projects.
</div>

<script>
const DATA = 
[{"name":"Stargate Expansion (non-Abilene)","owner":"OpenAI/Oracle/SoftBank","tenant":"OpenAI","location":"TX/NM/OH/Midwest","state":"Multiple","region":"US Other","mw":2500.0,"investment":129.3,"status":"Planning","cooling":"TBD","power":"Mixed","water_stress":"Varies","stress_score":3.0,"direct_water":36500,"total_water":73000.0,"lat":33.5,"lng":-101.0},{"name":"Meta Hyperion","owner":"Meta","tenant":"Meta","location":"Richland Parish","state":"Louisiana","region":"US Other","mw":5000.0,"investment":10.0,"status":"Under Construction","cooling":"Standard evaporative","power":"3 on-site gas plants ($3B) + renewables","water_stress":"Medium-High","stress_score":3.0,"direct_water":7300,"total_water":182500.0,"lat":32.42,"lng":-91.76},{"name":"Meta Prometheus","owner":"Meta","tenant":"Meta","location":"New Albany","state":"Ohio","region":"US Other","mw":1000.0,"investment":null,"status":"Under Construction","cooling":"Standard","power":"200MW on-site gas + grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":7300,"total_water":36500.0,"lat":40.08,"lng":-82.81},{"name":"Amazon PA Campus","owner":"Amazon (AWS)","tenant":"AWS","location":"Salem/Falls Township","state":"Pennsylvania","region":"US Other","mw":1000.0,"investment":20.0,"status":"Under Construction","cooling":"TBD","power":"Susquehanna nuclear + grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":4380,"total_water":42924.0,"lat":40.23,"lng":-74.98},{"name":"Amazon Project Rainier","owner":"Amazon (AWS)","tenant":"AWS/Anthropic","location":"Indiana","state":"Indiana","region":"US Other","mw":600.0,"investment":8.0,"status":"Operational","cooling":"Standard","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":6584.6,"total_water":17520.0,"lat":39.77,"lng":-86.16},{"name":"Vantage Lighthouse","owner":"Vantage/OpenAI/Oracle","tenant":"OpenAI","location":"Port Washington","state":"Wisconsin","region":"US Other","mw":902.0,"investment":15.0,"status":"Early Construction","cooling":"TBD","power":"Grid","water_stress":"Low","stress_score":1.0,"direct_water":109.5,"total_water":19753.8,"lat":43.39,"lng":-87.88},{"name":"Microsoft Mt Pleasant","owner":"Microsoft","tenant":"Microsoft","location":"Mount Pleasant","state":"Wisconsin","region":"US Other","mw":300.0,"investment":7.0,"status":"Under Construction","cooling":"Closed-loop (zero water)","power":"WE Energies grid","water_stress":"Low","stress_score":1.0,"direct_water":6570,"total_water":6570.0,"lat":42.72,"lng":-87.88},{"name":"ESS NC Campus","owner":"Energy Storage Solutions","tenant":"TBD","location":"Rocky Mount","state":"North Carolina","region":"US Other","mw":900.0,"investment":19.2,"status":"Approved","cooling":"TBD","power":"TBD + battery storage","water_stress":"Low-Medium","stress_score":2.0,"direct_water":2336,"total_water":22995.0,"lat":35.94,"lng":-77.79},{"name":"Compass Meridian","owner":"Compass Datacenters","tenant":"TBD","location":"Lauderdale County","state":"Mississippi","region":"US Other","mw":320.0,"investment":10.0,"status":"Planning","cooling":"TBD","power":"Mississippi Power 500MW","water_stress":"Medium-High","stress_score":3.0,"direct_water":21900,"total_water":10512.0,"lat":32.4,"lng":-88.67},{"name":"NextEra/Google Campuses","owner":"NextEra/Google","tenant":"Google","location":"Multiple","state":"Multiple","region":"US Other","mw":3000.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Nuclear + gas + solar","water_stress":"Varies","stress_score":3.0,"direct_water":7300,"total_water":109500.0,"lat":37.0,"lng":-95.0},{"name":"NextEra/Exxon Campus","owner":"NextEra/ExxonMobil","tenant":"TBD","location":"Southeast","state":"Southeast","region":"US Other","mw":1000.0,"investment":null,"status":"MOU stage","cooling":"TBD","power":"On-site gas + CCS","water_stress":"Varies","stress_score":3.0,"direct_water":14600,"total_water":36500.0,"lat":33.75,"lng":-84.39},{"name":"Meta Indiana Expansion","owner":"Meta","tenant":"Meta","location":"Indiana","state":"Indiana","region":"US Other","mw":2000.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Nuclear PPAs + renewables","water_stress":"Low-Medium","stress_score":2.0,"direct_water":6570,"total_water":85848.0,"lat":39.77,"lng":-86.16},{"name":"CleanArc Caroline County","owner":"CleanArc","tenant":"TBD","location":"Caroline County","state":"Virginia","region":"VA","mw":900.0,"investment":null,"status":"Under Construction","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":0,"total_water":26280.0,"lat":38.03,"lng":-77.35},{"name":"Vantage Frontier","owner":"Vantage Data Centers","tenant":"TBD","location":"Shackelford County","state":"Texas","region":"TX","mw":1400.0,"investment":25.0,"status":"Under Construction","cooling":"Closed-loop chiller","power":"Behind-meter + grid","water_stress":"High","stress_score":4.0,"direct_water":1825,"total_water":51100.0,"lat":32.74,"lng":-99.35},{"name":"Data City Texas","owner":"Data City Texas","tenant":"TBD","location":"Near Laredo","state":"Texas","region":"TX","mw":5000.0,"investment":null,"status":"Planning","cooling":"Direct-to-chip liquid","power":"100% renewable (wind/solar/battery/H2)","water_stress":"High","stress_score":4.0,"direct_water":80300,"total_water":9125.0,"lat":27.61,"lng":-99.51},{"name":"HyperGrid/Matador","owner":"Fermi America/Texas Tech Univ.","tenant":"TBD","location":"Amarillo","state":"Texas","region":"TX","mw":11000.0,"investment":300.0,"status":"NRC filing made","cooling":"TBD","power":"4\u00d71GW nuclear + gas + solar/wind","water_stress":"High","stress_score":4.0,"direct_water":14600,"total_water":401500.0,"lat":35.22,"lng":-101.83},{"name":"Tract Caldwell County","owner":"Tract","tenant":"TBD","location":"Between Austin & SA","state":"Texas","region":"TX","mw":2000.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid (ERCOT)","water_stress":"High","stress_score":4.0,"direct_water":13140,"total_water":73000.0,"lat":30.3,"lng":-97.8},{"name":"DFW Metroplex Campus","owner":"Multiple","tenant":"Multiple","location":"DFW","state":"Texas","region":"TX","mw":1800.0,"investment":null,"status":"Under Construction","cooling":"Standard","power":"Grid (ERCOT)","water_stress":"Medium-High","stress_score":3.0,"direct_water":7300,"total_water":65700.0,"lat":32.9,"lng":-97.04},{"name":"Meta El Paso","owner":"Meta","tenant":"Meta","location":"El Paso","state":"Texas","region":"TX","mw":1000.0,"investment":1.5,"status":"Planning","cooling":"TBD","power":"TBD","water_stress":"Extremely High","stress_score":5.0,"direct_water":8760,"total_water":36500.0,"lat":31.76,"lng":-106.44},{"name":"Google TX (3 sites)","owner":"Google","tenant":"Google","location":"Multiple TX","state":"Texas","region":"TX","mw":1200.0,"investment":40.0,"status":"Various","cooling":"Mixed","power":"Grid + renewables","water_stress":"High","stress_score":4.0,"direct_water":1460,"total_water":21900.0,"lat":31.5,"lng":-99.5},{"name":"Streams San Antonio","owner":"Streams DC","tenant":"TBD","location":"San Antonio","state":"Texas","region":"TX","mw":200.0,"investment":null,"status":"Planning","cooling":"Standard","power":"Grid (CPS Energy)","water_stress":"High","stress_score":4.0,"direct_water":4380,"total_water":7300.0,"lat":29.42,"lng":-98.49},{"name":"Sulphur Springs Cluster","owner":"Multiple","tenant":"Multiple","location":"Sulphur Springs","state":"Texas","region":"TX","mw":600.0,"investment":null,"status":"Planning","cooling":"Standard","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":3650,"total_water":21900.0,"lat":33.14,"lng":-95.6},{"name":"Permian Basin Cluster","owner":"Multiple","tenant":"Multiple","location":"Permian Basin","state":"Texas","region":"TX","mw":500.0,"investment":null,"status":"Various","cooling":"TBD","power":"Behind-meter gas + grid","water_stress":"Extremely High","stress_score":5.0,"direct_water":2920,"total_water":18250.0,"lat":31.9,"lng":-102.2},{"name":"Advanced Energy Campus TX","owner":"Various","tenant":"TBD","location":"Texas","state":"Texas","region":"TX","mw":400.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":38909,"total_water":14600.0,"lat":31.0,"lng":-100.0},{"name":"Loudoun County Pipeline","owner":"Multiple","tenant":"Multiple","location":"Loudoun County","state":"Virginia","region":"VA","mw":5330.0,"investment":null,"status":"Various","cooling":"Mixed","power":"Dominion grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":21900,"total_water":155636.0,"lat":39.08,"lng":-77.64},{"name":"Prince William Pipeline","owner":"Multiple","tenant":"Multiple","location":"Prince William County","state":"Virginia","region":"VA","mw":3000.0,"investment":null,"status":"Various","cooling":"Mixed","power":"Dominion grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":1401.6,"total_water":87600.0,"lat":38.7,"lng":-77.48},{"name":"Vantage Fredericksburg","owner":"Vantage","tenant":"TBD","location":"Fredericksburg","state":"Virginia","region":"VA","mw":192.0,"investment":2.0,"status":"Under Construction","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":3650,"total_water":5606.4,"lat":38.3,"lng":-77.46},{"name":"Google Virginia Expansion","owner":"Google","tenant":"Google","location":"Multiple VA counties","state":"Virginia","region":"VA","mw":500.0,"investment":9.0,"status":"Under Construction","cooling":"Mixed","power":"Grid (PJM)","water_stress":"Medium-High","stress_score":3.0,"direct_water":17520,"total_water":14600.0,"lat":38.2,"lng":-77.8},{"name":"Tract Richmond VA","owner":"Tract","tenant":"TBD","location":"Richmond area","state":"Virginia","region":"VA","mw":2400.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid (PJM)","water_stress":"Medium-High","stress_score":3.0,"direct_water":25550,"total_water":70080.0,"lat":37.54,"lng":-77.43},{"name":"Balico Pittsylvania","owner":"Balico Tech","tenant":"TBD","location":"Pittsylvania County","state":"Virginia","region":"VA","mw":3500.0,"investment":null,"status":"Defeated","cooling":"TBD","power":"3.5 GW gas plant (Mountain Valley Pipeline)","water_stress":"Low-Medium","stress_score":2.0,"direct_water":3650,"total_water":150234.0,"lat":36.82,"lng":-79.39},{"name":"Culpeper Expansion","owner":"Multiple","tenant":"Multiple","location":"Culpeper County","state":"Virginia","region":"VA","mw":500.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":21900,"total_water":14600.0,"lat":38.47,"lng":-78.0},{"name":"Vermaland La Osa","owner":"Vermaland","tenant":"TBD","location":"Pinal County","state":"Arizona","region":"AZ","mw":3000.0,"investment":33.0,"status":"Planning","cooling":"TBD","power":"Solar/gas/battery","water_stress":"Extremely High","stress_score":5.0,"direct_water":14600,"total_water":128772.0,"lat":32.75,"lng":-111.4},{"name":"Tract Buckeye Tech Park","owner":"Tract","tenant":"TBD","location":"Buckeye","state":"Arizona","region":"AZ","mw":2000.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid (APS)","water_stress":"Extremely High","stress_score":5.0,"direct_water":2920,"total_water":65700.0,"lat":33.37,"lng":-112.58},{"name":"Google Mesa Phase 1","owner":"Google","tenant":"Google","location":"Mesa","state":"Arizona","region":"AZ","mw":400.0,"investment":null,"status":"Operational","cooling":"Air cooling planned","power":"Grid (SRP)","water_stress":"High","stress_score":4.0,"direct_water":2920,"total_water":13140.0,"lat":33.42,"lng":-111.83},{"name":"Google Mesa Phase 2","owner":"Google","tenant":"Google","location":"Mesa","state":"Arizona","region":"AZ","mw":400.0,"investment":null,"status":"Planning","cooling":"Air cooling","power":"Grid (SRP)","water_stress":"High","stress_score":4.0,"direct_water":3285,"total_water":13140.0,"lat":33.42,"lng":-111.83},{"name":"EdgeCore Mesa","owner":"EdgeCore","tenant":"TBD","location":"Mesa","state":"Arizona","region":"AZ","mw":450.0,"investment":null,"status":"Partially Operational","cooling":"Standard","power":"Grid (SRP)","water_stress":"High","stress_score":4.0,"direct_water":26.28,"total_water":14782.5,"lat":33.42,"lng":-111.83},{"name":"Aligned Glendale PHX-13","owner":"Aligned","tenant":"TBD","location":"Glendale","state":"Arizona","region":"AZ","mw":72.0,"investment":null,"status":"Under Construction","cooling":"Delta\u00b3 air cooling + closed-loop","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":4380,"total_water":2365.2,"lat":33.54,"lng":-112.19},{"name":"NTT Mesa","owner":"NTT","tenant":"TBD","location":"Mesa","state":"Arizona","region":"AZ","mw":600.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":2190,"total_water":19710.0,"lat":33.42,"lng":-111.83},{"name":"Project Blue Tucson","owner":"TBD","tenant":"TBD","location":"Pima County","state":"Arizona","region":"AZ","mw":300.0,"investment":1.0,"status":"Approved","cooling":"Standard","power":"Grid (TEP)","water_stress":"High","stress_score":4.0,"direct_water":73,"total_water":9855.0,"lat":32.1,"lng":-111.79},{"name":"Microsoft Goodyear","owner":"Microsoft","tenant":"Microsoft","location":"Goodyear","state":"Arizona","region":"AZ","mw":200.0,"investment":null,"status":"Operational","cooling":"Standard (zero-water pilot 2026)","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":1460,"total_water":6570.0,"lat":33.44,"lng":-112.36},{"name":"Meta Goodyear","owner":"Meta","tenant":"Meta","location":"Goodyear","state":"Arizona","region":"AZ","mw":200.0,"investment":null,"status":"Operational","cooling":"Standard","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":2190,"total_water":6570.0,"lat":33.44,"lng":-112.36},{"name":"Novva Borealis Mesa","owner":"Novva","tenant":"TBD","location":"Mesa","state":"Arizona","region":"AZ","mw":300.0,"investment":null,"status":"Under Construction","cooling":"TBD","power":"Grid (SRP)","water_stress":"High","stress_score":4.0,"direct_water":0,"total_water":9855.0,"lat":33.42,"lng":-111.83},{"name":"Start Campus Sines","owner":"Start Campus","tenant":"Multiple","location":"Sines","state":"Portugal","region":"Europe","mw":1200.0,"investment":8.5,"status":"Phase 1 Operational","cooling":"Seawater cooling (PUE 1.1)","power":"100% Portuguese renewable grid","water_stress":"Low","stress_score":1.0,"direct_water":273.75,"total_water":21900.0,"lat":37.95,"lng":-8.87},{"name":"Brookfield Stockholm","owner":"Brookfield","tenant":"TBD","location":"Stockholm","state":"Sweden","region":"Europe","mw":750.0,"investment":10.0,"status":"Planning","cooling":"Free air (95% of time)","power":"Swedish hydro/nuclear grid","water_stress":"Low","stress_score":1.0,"direct_water":2190,"total_water":2299.5,"lat":59.33,"lng":18.07},{"name":"Microsoft Zaragoza","owner":"Microsoft","tenant":"Microsoft","location":"Zaragoza","state":"Spain","region":"Europe","mw":300.0,"investment":2.9,"status":"Planning","cooling":"TBD","power":"Grid + renewables","water_stress":"Extremely High","stress_score":5.0,"direct_water":2190,"total_water":5475.0,"lat":41.64,"lng":-0.88},{"name":"Azora/Tillion Arag\u00f3n","owner":"Azora/Tillion","tenant":"TBD","location":"Villamayor de G\u00e1llego","state":"Spain","region":"Europe","mw":300.0,"investment":2.0,"status":"Planning","cooling":"TBD","power":"Grid + renewables","water_stress":"Extremely High","stress_score":5.0,"direct_water":4380,"total_water":5475.0,"lat":41.73,"lng":-0.8},{"name":"Amazon Arag\u00f3n (6 sites)","owner":"Amazon (AWS)","tenant":"AWS","location":"Arag\u00f3n","state":"Spain","region":"Europe","mw":600.0,"investment":null,"status":"3 exist + 3 proposed","cooling":"Standard","power":"Grid","water_stress":"Extremely High","stress_score":5.0,"direct_water":2190,"total_water":16425.0,"lat":41.6,"lng":-0.95},{"name":"Meta Talavera","owner":"Meta","tenant":"Meta","location":"Talavera de la Reina","state":"Spain","region":"Europe","mw":300.0,"investment":0.75,"status":"Under Construction","cooling":"TBD","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":36500,"total_water":8212.5,"lat":39.96,"lng":-4.83},{"name":"Echelon/Iberdrola JV","owner":"Echelon/Iberdrola","tenant":"Multiple","location":"Multiple Spain","state":"Spain","region":"Europe","mw":5000.0,"investment":2.3,"status":"Various","cooling":"TBD","power":"Iberdrola renewables","water_stress":"High","stress_score":4.0,"direct_water":1460,"total_water":9125.0,"lat":40.5,"lng":-3.5},{"name":"Google Ireland Expansion","owner":"Google","tenant":"Google","location":"Grange Castle (Dublin)","state":"Ireland","region":"Europe","mw":200.0,"investment":null,"status":"Planning","cooling":"Standard","power":"Grid (EirGrid)","water_stress":"Low","stress_score":1.0,"direct_water":2190,"total_water":4380.0,"lat":53.32,"lng":-6.42},{"name":"AWS Dublin (3 new)","owner":"Amazon (AWS)","tenant":"AWS","location":"Dublin","state":"Ireland","region":"Europe","mw":300.0,"investment":null,"status":"Delayed/Appeals","cooling":"Standard","power":"Grid + waste heat pilot","water_stress":"Low","stress_score":1.0,"direct_water":1460,"total_water":6570.0,"lat":53.35,"lng":-6.26},{"name":"Microsoft Dublin","owner":"Microsoft","tenant":"Microsoft","location":"Dublin","state":"Ireland","region":"Europe","mw":200.0,"investment":0.9,"status":"Planning","cooling":"Standard","power":"On-site gas + 21 diesel generators","water_stress":"Low","stress_score":1.0,"direct_water":730,"total_water":7300.0,"lat":53.35,"lng":-6.26},{"name":"Echelon Arklow DUB20","owner":"Echelon","tenant":"TBD","location":"Arklow (Wicklow)","state":"Ireland","region":"Europe","mw":100.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Low","stress_score":1.0,"direct_water":2190,"total_water":2190.0,"lat":52.79,"lng":-6.16},{"name":"TikTok Project Clover","owner":"TikTok","tenant":"TikTok","location":"Dublin + Finland","state":"Ireland/Finland","region":"Europe","mw":300.0,"investment":12.0,"status":"Under Construction","cooling":"Mixed","power":"Grid","water_stress":"Low","stress_score":1.0,"direct_water":3650,"total_water":6570.0,"lat":53.4,"lng":-6.2},{"name":"AWS Frankfurt Expansion","owner":"Amazon (AWS)","tenant":"AWS","location":"Frankfurt area","state":"Germany","region":"Europe","mw":500.0,"investment":8.8,"status":"Under Construction","cooling":"TBD","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":3518.6,"total_water":12775.0,"lat":50.11,"lng":8.68},{"name":"Google Frankfurt/Germany","owner":"Google","tenant":"Google","location":"Germany (2 facilities)","state":"Germany","region":"Europe","mw":482.0,"investment":5.5,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":3518.6,"total_water":12315.1,"lat":50.2,"lng":8.8},{"name":"NTT Germany 482MW","owner":"NTT","tenant":"TBD","location":"Germany","state":"Germany","region":"Europe","mw":482.0,"investment":null,"status":"Approved","cooling":"TBD","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":5256,"total_water":12315.1,"lat":51.16,"lng":10.45},{"name":"Blackstone Northumberland","owner":"Blackstone","tenant":"Multiple","location":"Northumberland","state":"UK","region":"Europe","mw":720.0,"investment":10.0,"status":"Planning","cooling":"TBD","power":"Grid + renewables","water_stress":"Low","stress_score":1.0,"direct_water":1825,"total_water":13140.0,"lat":55.2,"lng":-2.08},{"name":"Equinix Hertfordshire","owner":"Equinix","tenant":"TBD","location":"Hertfordshire","state":"UK","region":"Europe","mw":250.0,"investment":3.9,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":1752,"total_water":4562.5,"lat":51.81,"lng":-0.21},{"name":"Nebius B\u00e9thune","owner":"Nebius","tenant":"Meta/Microsoft","location":"B\u00e9thune","state":"France","region":"Europe","mw":240.0,"investment":null,"status":"Under Construction","cooling":"TBD","power":"French nuclear grid","water_stress":"Low","stress_score":1.0,"direct_water":10220,"total_water":10301.8,"lat":50.53,"lng":2.64},{"name":"MGX/BPI/Mistral Campus","owner":"MGX/BPI/Mistral/Nvidia","tenant":"Multiple","location":"France","state":"France","region":"Europe","mw":1400.0,"investment":null,"status":"Planning","cooling":"TBD","power":"French nuclear grid","water_stress":"Low","stress_score":1.0,"direct_water":2190,"total_water":60093.6,"lat":47.0,"lng":2.0},{"name":"Microsoft Lombardy","owner":"Microsoft","tenant":"Microsoft","location":"Lombardy","state":"Italy","region":"Europe","mw":300.0,"investment":4.8,"status":"Planning","cooling":"Aquifer storage + desalinated","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":2190,"total_water":7665.0,"lat":45.47,"lng":9.19},{"name":"Apto Lacchiarella","owner":"Apto","tenant":"TBD","location":"Lacchiarella","state":"Italy","region":"Europe","mw":300.0,"investment":3.0,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":87.6,"total_water":7665.0,"lat":45.32,"lng":9.14},{"name":"EcoDataCentre Borl\u00e4nge","owner":"EcoDataCentre","tenant":"TBD","location":"Borl\u00e4nge","state":"Sweden","region":"Europe","mw":240.0,"investment":null,"status":"Planning","cooling":"Free air cooling","power":"Swedish grid (hydro)","water_stress":"Low","stress_score":1.0,"direct_water":73,"total_water":735.8,"lat":60.48,"lng":15.44},{"name":"Hyperco Finland","owner":"DAMAC (Hyperco)","tenant":"TBD","location":"Finland","state":"Finland","region":"Europe","mw":200.0,"investment":1.0,"status":"Planning","cooling":"Free air (8000+ hrs/yr)","power":"Finnish grid","water_stress":"Low","stress_score":1.0,"direct_water":25.55,"total_water":613.2,"lat":61.5,"lng":23.79},{"name":"Verne M\u00e4nts\u00e4l\u00e4","owner":"Verne","tenant":"TBD","location":"M\u00e4nts\u00e4l\u00e4","state":"Finland","region":"Europe","mw":70.0,"investment":null,"status":"Operational","cooling":"Free air cooling","power":"Finnish grid","water_stress":"Low","stress_score":1.0,"direct_water":36.5,"total_water":214.6,"lat":60.63,"lng":25.32},{"name":"Green Mountain Norway","owner":"Green Mountain","tenant":"Multiple","location":"Norway","state":"Norway","region":"Europe","mw":100.0,"investment":null,"status":"Operational","cooling":"Fjord water cooling","power":"100% hydro/wind","water_stress":"Low","stress_score":1.0,"direct_water":3650,"total_water":306.6,"lat":60.47,"lng":8.47},{"name":"Google India AI Hub","owner":"Google","tenant":"Google","location":"Visakhapatnam","state":"India","region":"Asia","mw":500.0,"investment":15.0,"status":"Planning","cooling":"TBD","power":"Renewable + grid","water_stress":"High","stress_score":4.0,"direct_water":3650,"total_water":9125.0,"lat":17.69,"lng":83.22},{"name":"Microsoft India","owner":"Microsoft","tenant":"Microsoft","location":"Multiple","state":"India","region":"Asia","mw":500.0,"investment":17.5,"status":"Planning","cooling":"TBD","power":"Grid + renewables","water_stress":"High","stress_score":4.0,"direct_water":7300,"total_water":9125.0,"lat":19.08,"lng":72.88},{"name":"TCS India 1GW","owner":"TCS","tenant":"TCS","location":"India","state":"India","region":"Asia","mw":1000.0,"investment":6.5,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":36500,"total_water":40150.0,"lat":28.61,"lng":77.21},{"name":"Malaysia DC Cluster","owner":"Multiple","tenant":"Multiple","location":"Johor + others","state":"Malaysia","region":"Asia","mw":5000.0,"investment":null,"status":"Various","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":7300,"total_water":164250.0,"lat":1.6,"lng":103.75},{"name":"DayOne Thailand 1GW","owner":"DayOne/Amata","tenant":"TBD","location":"Thailand","state":"Thailand","region":"Asia","mw":1000.0,"investment":null,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":876,"total_water":32850.0,"lat":13.76,"lng":100.5},{"name":"Princeton Jakarta","owner":"Princeton Digital","tenant":"TBD","location":"Jakarta","state":"Indonesia","region":"Asia","mw":120.0,"investment":null,"status":"Under Construction","cooling":"TBD","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":2190,"total_water":3942.0,"lat":-6.21,"lng":106.85},{"name":"Vantage Johor","owner":"Vantage","tenant":"TBD","location":"Johor","state":"Malaysia","region":"Asia","mw":300.0,"investment":1.6,"status":"Acquired","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":3650,"total_water":9855.0,"lat":1.56,"lng":103.8},{"name":"HUMAIN/AirTrunk Riyadh","owner":"HUMAIN/AirTrunk","tenant":"Multiple","location":"Riyadh","state":"Saudi Arabia","region":"Middle East","mw":500.0,"investment":3.0,"status":"Pre-development","cooling":"TBD","power":"Grid + desalination","water_stress":"Extremely High","stress_score":5.0,"direct_water":730,"total_water":21900.0,"lat":24.69,"lng":46.72},{"name":"Equinix Jeddah","owner":"Equinix","tenant":"Multiple","location":"Jeddah","state":"Saudi Arabia","region":"Middle East","mw":100.0,"investment":1.0,"status":"Planning","cooling":"TBD","power":"Grid","water_stress":"Extremely High","stress_score":5.0,"direct_water":1365.1,"total_water":4380.0,"lat":21.49,"lng":39.19},{"name":"Desert Dragon DCs","owner":"CMI/Desert Dragon","tenant":"Multiple","location":"Riyadh/Jeddah/NEOM","state":"Saudi Arabia","region":"Middle East","mw":187.0,"investment":null,"status":"Under Construction","cooling":"Advanced cooling","power":"Grid","water_stress":"Extremely High","stress_score":5.0,"direct_water":1460,"total_water":8190.6,"lat":24.71,"lng":46.67},{"name":"CDC Marsden Park","owner":"CDC Data Centers","tenant":"TBD","location":"Marsden Park","state":"Australia","region":"Oceania","mw":200.0,"investment":3.1,"status":"Approved","cooling":"TBD","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":3650,"total_water":5840.0,"lat":-33.69,"lng":150.83},{"name":"Stargate Argentina","owner":"OpenAI/Sur Energy","tenant":"OpenAI","location":"Argentina","state":"Argentina","region":"LatAm","mw":500.0,"investment":null,"status":"Planning","cooling":"TBD","power":"TBD","water_stress":"Medium-High","stress_score":3.0,"direct_water":1460,"total_water":10950.0,"lat":-34.6,"lng":-58.38},{"name":"Vietnam HCM City DC","owner":"VinAI/AccInfra","tenant":"TBD","location":"Ho Chi Minh City","state":"Vietnam","region":"Asia","mw":200.0,"investment":null,"status":"MOU stage","cooling":"TBD","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":55845,"total_water":6570.0,"lat":10.82,"lng":106.63},{"name":"GW Ranch","owner":"Pacifico Energy","tenant":null,"location":"Pecos County","state":"TX","region":"TX","mw":7650.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Gas/behind-the-meter","water_stress":"Extremely High","stress_score":5.0,"direct_water":23360,"total_water":328368.6,"lat":30.99,"lng":-102.69},{"name":"Sailfish Comanche Circle","owner":"Sailfish Digital Ventures","tenant":null,"location":"Tolar, Hood County","state":"TX","region":"TX","mw":3200.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"1.2 GW gas plant on-site","water_stress":"High","stress_score":4.0,"direct_water":438,"total_water":137356.8,"lat":32.39,"lng":-97.92},{"name":"San Marcos DC I","owner":"CloudBurst/Evolve","tenant":null,"location":"New Braunfels, Guadalupe","state":"TX","region":"TX","mw":1200.0,"investment":null,"status":"Under Construction","cooling":"Liquid/hybrid roadmap","power":"Natural gas BTM","water_stress":"Medium-High","stress_score":3.0,"direct_water":10220,"total_water":51508.8,"lat":29.7,"lng":-98.12},{"name":"IREN Sweetwater 1","owner":"IREN","tenant":null,"location":"Nolan County","state":"TX","region":"TX","mw":1400.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid + BTM","water_stress":"High","stress_score":4.0,"direct_water":9490,"total_water":51100.0,"lat":32.3,"lng":-100.42},{"name":"PowerHouse Grand Prairie","owner":"PowerHouse Data Centers","tenant":null,"location":"Grand Prairie, Ellis County","state":"TX","region":"TX","mw":1300.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":1496.5,"total_water":47450.0,"lat":32.53,"lng":-96.99},{"name":"Hut 8 Vega Campus","owner":"Hut 8","tenant":null,"location":"Oldham County","state":"TX","region":"TX","mw":205.0,"investment":null,"status":"Operational","cooling":"Standard evaporative","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":2190,"total_water":7482.5,"lat":35.4,"lng":-102.6},{"name":"Black Pearl","owner":"Cipher Mining","tenant":null,"location":"Winkler County","state":"TX","region":"TX","mw":300.0,"investment":null,"status":"Operational","cooling":"Standard evaporative","power":"Grid","water_stress":"Extremely High","stress_score":5.0,"direct_water":1211.8,"total_water":10950.0,"lat":31.79,"lng":-103.1},{"name":"Soluna South TX","owner":"Soluna Holdings","tenant":null,"location":"Willacy County","state":"TX","region":"TX","mw":166.0,"investment":null,"status":"Operational Ph 1","cooling":"Standard evaporative","power":"100% wind","water_stress":"Medium-High","stress_score":3.0,"direct_water":1642.5,"total_water":302.9,"lat":26.47,"lng":-97.59},{"name":"Stargate Abilene Campus","owner":"OpenAI/Oracle/SoftBank","tenant":null,"location":"Abilene, Taylor County","state":"TX","region":"TX","mw":4500.0,"investment":100.0,"status":"Under Construction","cooling":"Closed-loop","power":"Gas/renewable mix","water_stress":"High","stress_score":4.0,"direct_water":2190,"total_water":193158.0,"lat":32.45,"lng":-99.73},{"name":"AVAIO Caroline","owner":"AVAIO","tenant":null,"location":"Carmel Church, Caroline County","state":"VA","region":"VA","mw":300.0,"investment":null,"status":"Under Construction","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":1460,"total_water":8760.0,"lat":38.0,"lng":-77.36},{"name":"Chirisa/AREP Chesterfield","owner":"Chirisa/AREP","tenant":null,"location":"Chesterfield County","state":"VA","region":"VA","mw":200.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":1752,"total_water":5840.0,"lat":37.38,"lng":-77.58},{"name":"QTS Henrico","owner":"QTS","tenant":null,"location":"Henrico County","state":"VA","region":"VA","mw":240.0,"investment":null,"status":"Operational/Expanding","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":401.5,"total_water":7008.0,"lat":37.55,"lng":-77.35},{"name":"EdgeCore Shannon Hill","owner":"EdgeCore","tenant":null,"location":"Louisa County","state":"VA","region":"VA","mw":1100.0,"investment":null,"status":"Planned","cooling":"Closed-loop air-cooled","power":"Grid/SMR planned","water_stress":"Low","stress_score":1.0,"direct_water":19710,"total_water":47216.4,"lat":37.95,"lng":-78.0},{"name":"AWS North Creek","owner":"Amazon/AWS","tenant":null,"location":"Louisa County","state":"VA","region":"VA","mw":2700.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid/nuclear","water_stress":"Low","stress_score":1.0,"direct_water":15877.5,"total_water":115894.8,"lat":37.95,"lng":-78.0},{"name":"AWS Birchwood","owner":"Amazon/AWS","tenant":null,"location":"King George County","state":"VA","region":"VA","mw":2175.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":10950,"total_water":63510.0,"lat":38.27,"lng":-77.16},{"name":"AWS Wilderness Crossing","owner":"Amazon/AWS","tenant":null,"location":"Orange County","state":"VA","region":"VA","mw":1500.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":3650,"total_water":43800.0,"lat":38.25,"lng":-78.11},{"name":"Meta Henrico","owner":"Meta","tenant":null,"location":"Henrico County","state":"VA","region":"VA","mw":500.0,"investment":null,"status":"Operational/Expanding","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":10950,"total_water":14600.0,"lat":37.55,"lng":-77.35},{"name":"Hassayampa Ranch","owner":"Arizona Land Consulting","tenant":null,"location":"Tonopah, Maricopa County","state":"AZ","region":"AZ","mw":1500.0,"investment":25.0,"status":"Approved","cooling":"Standard evaporative","power":"Grid + BTM gas","water_stress":"Extremely High","stress_score":5.0,"direct_water":5475,"total_water":54750.0,"lat":33.45,"lng":-112.96},{"name":"QTS Phoenix 3","owner":"QTS","tenant":null,"location":"Maricopa County","state":"AZ","region":"AZ","mw":750.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":3650,"total_water":24637.5,"lat":33.35,"lng":-112.49},{"name":"Davis-Monthan AFB DC","owner":"U.S. Government","tenant":null,"location":"Tucson, Pima County","state":"AZ","region":"AZ","mw":500.0,"investment":null,"status":"Planned","cooling":"Air-cooled likely","power":"Grid/renewable","water_stress":"High","stress_score":4.0,"direct_water":2920,"total_water":9125.0,"lat":32.22,"lng":-110.97},{"name":"Southwest Crossing","owner":"Ryan Companies","tenant":null,"location":"Stanfield, Pinal County","state":"AZ","region":"AZ","mw":400.0,"investment":null,"status":"Approved","cooling":"Standard evaporative","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":3650,"total_water":13140.0,"lat":32.88,"lng":-111.96},{"name":"Energy Gen & Tech","owner":"W Holdings","tenant":null,"location":"Maricopa, Pinal County","state":"AZ","region":"AZ","mw":500.0,"investment":10.0,"status":"Approved","cooling":"Standard evaporative","power":"Gas + BESS","water_stress":"High","stress_score":4.0,"direct_water":4745,"total_water":18250.0,"lat":32.96,"lng":-112.05},{"name":"Luckett Road N/S","owner":"Beale Infrastructure","tenant":null,"location":"Marana, Pima County","state":"AZ","region":"AZ","mw":650.0,"investment":null,"status":"Approved","cooling":"Air-cooled redesign","power":"Grid","water_stress":"High","stress_score":4.0,"direct_water":7300,"total_water":21352.5,"lat":32.44,"lng":-111.22},{"name":"Forestalia B\u00fafalo","owner":"Forestalia","tenant":null,"location":"Zaragoza, Arag\u00f3n, Spain","state":"Spain","region":"Europe","mw":1000.0,"investment":14.0,"status":"Planned","cooling":"Standard evaporative","power":"50% onsite wind/solar","water_stress":"High","stress_score":4.0,"direct_water":182.5,"total_water":1825.0,"lat":41.65,"lng":-0.9},{"name":"Blackstone/QTS Arag\u00f3n","owner":"Blackstone/QTS","tenant":null,"location":"Arag\u00f3n, Spain","state":"Spain","region":"Europe","mw":500.0,"investment":5.0,"status":"Planned","cooling":"Zero water / water-free","power":"Grid/renewable","water_stress":"High","stress_score":4.0,"direct_water":182.5,"total_water":9125.0,"lat":41.65,"lng":-0.88},{"name":"atNorth DEN02","owner":"atNorth","tenant":null,"location":"Varde, Denmark","state":"Denmark","region":"Europe","mw":500.0,"investment":null,"status":"Planned","cooling":"Free air cooling","power":"Wind/hydro","water_stress":"Low","stress_score":1.0,"direct_water":1825,"total_water":1533.0,"lat":55.62,"lng":8.48},{"name":"Data4 PAR03","owner":"Data4","tenant":null,"location":"Nozay, France","state":"France","region":"Europe","mw":250.0,"investment":null,"status":"Under Construction","cooling":"Standard evaporative","power":"Nuclear grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":2190,"total_water":10731.0,"lat":48.66,"lng":2.24},{"name":"VIRTUS Megacampus","owner":"VIRTUS","tenant":null,"location":"Wustermark, Germany","state":"Germany","region":"Europe","mw":300.0,"investment":null,"status":"Under Construction","cooling":"Standard evaporative","power":"Green power","water_stress":"Medium-High","stress_score":3.0,"direct_water":919.8,"total_water":7665.0,"lat":52.55,"lng":12.95},{"name":"CyrusOne FRA7","owner":"CyrusOne","tenant":null,"location":"Frankfurt, Germany","state":"Germany","region":"Europe","mw":126.0,"investment":null,"status":"Under Construction","cooling":"Standard evaporative","power":"61 MW onsite gas","water_stress":"Medium-High","stress_score":3.0,"direct_water":394.2,"total_water":5408.4,"lat":50.1,"lng":8.72},{"name":"Colt DCS Berlin","owner":"Colt DCS","tenant":null,"location":"Berlin, Germany","state":"Germany","region":"Europe","mw":54.0,"investment":null,"status":"Under Construction","cooling":"Standard evaporative","power":"Grid + heat reuse","water_stress":"Low-Medium","stress_score":2.0,"direct_water":1460,"total_water":1379.7,"lat":52.52,"lng":13.4},{"name":"AWS/CloudHQ Didcot","owner":"AWS/CloudHQ","tenant":null,"location":"Didcot, UK","state":"UK","region":"Europe","mw":200.0,"investment":2.5,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"Low-Medium","stress_score":2.0,"direct_water":77.38,"total_water":3650.0,"lat":51.61,"lng":-1.24},{"name":"Compute Nordic Mikkeli","owner":"Compute Nordic","tenant":null,"location":"Mikkeli, Finland","state":"Finland","region":"Europe","mw":212.0,"investment":null,"status":"Permitted","cooling":"Dual-loop liquid cooling","power":"Hydro/wind","water_stress":"Low","stress_score":1.0,"direct_water":730,"total_water":650.0,"lat":61.69,"lng":27.27},{"name":"Microsoft/Digital Reef Greece","owner":"Microsoft","tenant":null,"location":"Athens, Greece","state":"Greece","region":"Europe","mw":100.0,"investment":null,"status":"Planned","cooling":"Standard evaporative","power":"Grid","water_stress":"Medium-High","stress_score":3.0,"direct_water":916040.5,"total_water":2372.5,"lat":37.98,"lng":23.73}]
;

// Water stress colors (WRI Aqueduct palette)
const STRESS_COLORS = {
  1: '#1a9641',  // Low - green
  2: '#a6d96a',  // Low-Medium - light green
  3: '#f4c842',  // Medium-High - yellow
  4: '#e85d3a',  // High - orange-red
  5: '#d7191c',  // Extremely High - red
};

const STRESS_LABELS = {
  1: 'Low',
  2: 'Low–Medium',
  3: 'Medium–High',
  4: 'High',
  5: 'Extremely High',
};

// Initialize map
const map = L.map('map', {
  center: [35, -95],
  zoom: 4,
  minZoom: 2,
  maxZoom: 12,
  zoomControl: true,
  attributionControl: true,
});

// Dark basemap
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OSM</a> &copy; <a href="https://carto.com/">CARTO</a>',
  subdomains: 'abcd',
  maxZoom: 19
}).addTo(map);

// Scale marker radius by MW
function getRadius(mw) {
  if (!mw || mw <= 0) return 4;
  // sqrt scale: 100MW -> 5, 1000MW -> 14, 5000MW -> 30
  return Math.max(4, Math.min(35, Math.sqrt(mw) * 0.45));
}

// Create all markers
let allMarkers = [];

DATA.forEach(p => {
  const score = p.stress_score || 3;
  const color = STRESS_COLORS[score] || '#f4c842';
  const radius = getRadius(p.mw);

  const marker = L.circleMarker([p.lat, p.lng], {
    radius: radius,
    fillColor: color,
    color: 'rgba(255,255,255,0.15)',
    weight: 1,
    fillOpacity: 0.75,
    opacity: 0.6,
  });

  // Rich popup
  const inv = p.investment ? `$${p.investment}B` : '—';
  const cooling = p.cooling || '—';
  const power = p.power || '—';
  const totalWater = p.total_water ? `${(p.total_water / 1000).toFixed(1)}B L/yr` : '—';
  const stressColor = STRESS_COLORS[score];
  const stressLabel = STRESS_LABELS[score] || '—';

  marker.bindPopup(`
    <div class="popup-name">${p.name}</div>
    <div class="popup-owner">${p.owner}${p.tenant && p.tenant !== p.owner ? ' → ' + p.tenant : ''} · ${p.location}, ${p.state}</div>
    <div class="popup-grid">
      <div class="popup-field">
        <span class="pf-label">Capacity</span>
        <span class="pf-value">${p.mw ? p.mw.toLocaleString() + ' MW' : '—'}</span>
      </div>
      <div class="popup-field">
        <span class="pf-label">Investment</span>
        <span class="pf-value">${inv}</span>
      </div>
      <div class="popup-field">
        <span class="pf-label">Status</span>
        <span class="pf-value">${p.status || '—'}</span>
      </div>
      <div class="popup-field">
        <span class="pf-label">Water stress</span>
        <span class="pf-value"><span class="popup-stress-badge" style="background:${stressColor}22; color:${stressColor}">${score}/5 ${stressLabel}</span></span>
      </div>
      <div class="popup-field">
        <span class="pf-label">Cooling</span>
        <span class="pf-value">${cooling}</span>
      </div>
      <div class="popup-field">
        <span class="pf-label">Est. total water</span>
        <span class="pf-value">${totalWater}</span>
      </div>
      <div class="popup-field" style="grid-column: 1/-1">
        <span class="pf-label">Power source</span>
        <span class="pf-value">${power}</span>
      </div>
    </div>
  `, { maxWidth: 320 });

  marker._data = p;
  allMarkers.push(marker);
  marker.addTo(map);
});

// Update stats
function updateStats(markers) {
  const visible = markers.filter(m => map.hasLayer(m));
  const n = visible.length;
  const totalMW = visible.reduce((s, m) => s + (m._data.mw || 0), 0);
  const highStress = visible.filter(m => (m._data.stress_score || 0) >= 3);
  const pct = n > 0 ? Math.round((highStress.length / n) * 100) : 0;
  const totalWater = visible.reduce((s, m) => s + (m._data.total_water || 0), 0);

  document.getElementById('stat-projects').textContent = n;
  document.getElementById('stat-gw').textContent = (totalMW / 1000).toFixed(0) + ' GW';
  document.getElementById('stat-pct').textContent = pct + '%';
  document.getElementById('stat-water').textContent = totalWater > 0 ? (totalWater / 1000000).toFixed(1) + 'B' : '—';
}

updateStats(allMarkers);

// Filters
const filterBtns = document.querySelectorAll('.filter-btn');
filterBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    filterBtns.forEach(b => {
      b.classList.remove('active');
      b.textContent = b.textContent.replace(/ · \d+$/, '');
    });
    btn.classList.add('active');
    const filter = btn.dataset.filter;

    allMarkers.forEach(m => {
      const p = m._data;
      let show = true;

      if (filter === 'us-only') {
        const r = (p.region || '').toUpperCase();
        const s = (p.state || '').toLowerCase();
        show = r === 'TX' || r === 'AZ' || r === 'VA' || r === 'US OTHER' || 
               s.includes('texas') || s.includes('arizona') || s.includes('virginia') ||
               s.includes('ohio') || s.includes('indiana') || s.includes('wisconsin') ||
               s.includes('pennsylvania') || s.includes('north carolina') || 
               s.includes('mississippi') || s.includes('louisiana') || s.includes('multiple');
      } else if (filter === 'high-stress') {
        show = (p.stress_score || 0) >= 4;
      } else if (filter === 'evaporative') {
        const c = (p.cooling || '').toLowerCase();
        show = c.includes('evaporat') || c.includes('standard');
      } else if (filter === 'water-free') {
        const c = (p.cooling || '').toLowerCase();
        show = c.includes('free') || c.includes('air') || c.includes('sealed') || c.includes('zero') || c.includes('reduced') || c.includes('seawater') || c.includes('closed');
      } else if (filter === 'gas') {
        const pw = (p.power || '').toLowerCase();
        show = pw.includes('gas') || pw.includes('behind');
      }

      if (show) {
        if (!map.hasLayer(m)) m.addTo(map);
      } else {
        if (map.hasLayer(m)) map.removeLayer(m);
      }
    });

    updateStats(allMarkers);

    // Update active button with count
    const visibleCount = allMarkers.filter(m => map.hasLayer(m)).length;
    btn.textContent = btn.textContent.replace(/ · \d+$/, '') + (filter !== 'all' ? ' · ' + visibleCount : '');

    // Auto-zoom to US when US filter selected, back to world for All
    if (filter === 'us-only') {
      map.flyTo([35, -95], 4, { duration: 0.8 });
    } else if (filter === 'all') {
      map.flyTo([25, 10], 2.5, { duration: 0.8 });
    }
  });
});

// Legend
const legend = L.control({ position: 'bottomleft' });
legend.onAdd = function() {
  const div = L.DomUtil.create('div', 'legend');
  div.innerHTML = `
    <h4>Water Stress</h4>
    ${Object.entries(STRESS_LABELS).map(([score, label]) => `
      <div class="legend-item">
        <div class="legend-dot" style="background:${STRESS_COLORS[score]}"></div>
        ${label}
      </div>
    `).join('')}
    <div class="size-guide">
      <h4>Capacity (MW)</h4>
      <div class="size-dots">
        <div class="size-dot-item">
          <div style="width:${getRadius(100)*2}px;height:${getRadius(100)*2}px;border-radius:50%;background:#666;"></div>
          <span>100</span>
        </div>
        <div class="size-dot-item">
          <div style="width:${getRadius(1000)*2}px;height:${getRadius(1000)*2}px;border-radius:50%;background:#666;"></div>
          <span>1 GW</span>
        </div>
        <div class="size-dot-item">
          <div style="width:${getRadius(5000)*2}px;height:${getRadius(5000)*2}px;border-radius:50%;background:#666;"></div>
          <span>5 GW</span>
        </div>
      </div>
    </div>
  `;
  return div;
};
legend.addTo(map);
</script>
</body>
</html>
